# http协议
## HTTP/1.x
### 缺陷
1. 链接无法复用:导致每次请求都经历三次握手和慢启动  
    1. HTTP/1.0传输数据是,每次都需要冲洗简历链接,增加延迟
    2. HTTP/1.1虽然加入了keep-alive可以复用一部分链接,但在某种情况下仍然需要建立多个connection,耗费资源,给服务器带来性能压力
2. 栈首阻塞(*Head-Of-Line Blocking(HOLB)*):当页面需要请求很多资源的时候,只有当之前的资源处理完毕之后,后续的资源才会开始发起请求
    1. HTTP/1.0:下个请求必须在前一个请求返回后才能发出,请求跟响应按序发生,如果某个请求长时间没有返回,那么接卸来的请求全部阻塞
    2. HTTP/1.1:尝试使用pipeling(管道化)来解决,即浏览器可以一次性发出多个请求(同域名,同TCP链接).但pipeline返回是按序的,如果某个请求很耗时,后续的其他请求即使已经处理完成,仍然需要等待前面的请求处理完成才开始返回(只部分解决了HOLB)
3. 协议开销大:HTTP/1.x在使用时,header携带了大量基本没有变化的内容,在一定程度上增加了传输的成本
4. 安全因素: HTTP/1.x在传输数据时,所以传输内容都是明文,客户端和服务器无法验证对方的身份,在一定程度上无法保证数据的安全性

## HTTP/2
1. 主要目标是通过支持完整的请求与响应复用来减少延迟,通过有效压缩HTTP表头字段将协议开销降至最低,同时增加对请求优先级和服务器推送的支持.**新的流控制、错误处理和升级机制**
2. HTTP/2没有改动HTTP的应用语义**HTTP方法、状态码、URI和标头字段一如往常**
3. HTTP/1.x使用的是文本来进行传输数据.HTTP/2引入了一个新的二进制分帧层(就是使用二进制格式来传输数据),无法与之前的HTTP/1.x服务器和客户端向后兼容,因此协议的主版本提升到HTTP/2
4. 多路复用: HTTP/2引入了多路复用的技术,解决了浏览器限制同一个域名下的请求数量问题
5. Header压缩
## HTTP/3

> 参考
- [HTTP/2,HTTP/3特性](https://blog.fundebug.com/2019/03/07/understand-http2-and-http3/)
- [HTTP/2简介](https://developers.google.com/web/fundamentals/performance/http2/?hl=zh-cn)